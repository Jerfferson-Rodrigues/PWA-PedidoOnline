{"ast":null,"code":"import { DIRECTION } from './utils.js';\nimport './change-details.js';\n/** Provides details of changing input */\n\nclass ActionDetails {\n  /** Current input value */\n\n  /** Current cursor position */\n\n  /** Old input value */\n\n  /** Old selection */\n  constructor(value, cursorPos, oldValue, oldSelection) {\n    this.value = value;\n    this.cursorPos = cursorPos;\n    this.oldValue = oldValue;\n    this.oldSelection = oldSelection; // double check if left part was changed (autofilling, other non-standard input triggers)\n\n    while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\n      --this.oldSelection.start;\n    }\n  }\n  /**\n    Start changing position\n    @readonly\n  */\n\n\n  get startChangePos() {\n    return Math.min(this.cursorPos, this.oldSelection.start);\n  }\n  /**\n    Inserted symbols count\n    @readonly\n  */\n\n\n  get insertedCount() {\n    return this.cursorPos - this.startChangePos;\n  }\n  /**\n    Inserted symbols\n    @readonly\n  */\n\n\n  get inserted() {\n    return this.value.substr(this.startChangePos, this.insertedCount);\n  }\n  /**\n    Removed symbols count\n    @readonly\n  */\n\n\n  get removedCount() {\n    // Math.max for opposite operation\n    return Math.max(this.oldSelection.end - this.startChangePos || // for Delete\n    this.oldValue.length - this.value.length, 0);\n  }\n  /**\n    Removed symbols\n    @readonly\n  */\n\n\n  get removed() {\n    return this.oldValue.substr(this.startChangePos, this.removedCount);\n  }\n  /**\n    Unchanged head symbols\n    @readonly\n  */\n\n\n  get head() {\n    return this.value.substring(0, this.startChangePos);\n  }\n  /**\n    Unchanged tail symbols\n    @readonly\n  */\n\n\n  get tail() {\n    return this.value.substring(this.startChangePos + this.insertedCount);\n  }\n  /**\n    Remove direction\n    @readonly\n  */\n\n\n  get removeDirection() {\n    if (!this.removedCount || this.insertedCount) return DIRECTION.NONE; // align right if delete at right\n\n    return (this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos) && // if not range removed (event with backspace)\n    this.oldSelection.end === this.oldSelection.start ? DIRECTION.RIGHT : DIRECTION.LEFT;\n  }\n\n}\n\nexport { ActionDetails as default };","map":{"version":3,"names":["DIRECTION","ActionDetails","constructor","value","cursorPos","oldValue","oldSelection","slice","startChangePos","start","Math","min","insertedCount","inserted","substr","removedCount","max","end","length","removed","head","substring","tail","removeDirection","NONE","RIGHT","LEFT","default"],"sources":["D:/React/PedidoOnline/node_modules/imask/esm/core/action-details.js"],"sourcesContent":["import { DIRECTION } from './utils.js';\nimport './change-details.js';\n\n/** Provides details of changing input */\nclass ActionDetails {\n  /** Current input value */\n\n  /** Current cursor position */\n\n  /** Old input value */\n\n  /** Old selection */\n\n  constructor(value, cursorPos, oldValue, oldSelection) {\n    this.value = value;\n    this.cursorPos = cursorPos;\n    this.oldValue = oldValue;\n    this.oldSelection = oldSelection;\n\n    // double check if left part was changed (autofilling, other non-standard input triggers)\n    while (this.value.slice(0, this.startChangePos) !== this.oldValue.slice(0, this.startChangePos)) {\n      --this.oldSelection.start;\n    }\n  }\n\n  /**\n    Start changing position\n    @readonly\n  */\n  get startChangePos() {\n    return Math.min(this.cursorPos, this.oldSelection.start);\n  }\n\n  /**\n    Inserted symbols count\n    @readonly\n  */\n  get insertedCount() {\n    return this.cursorPos - this.startChangePos;\n  }\n\n  /**\n    Inserted symbols\n    @readonly\n  */\n  get inserted() {\n    return this.value.substr(this.startChangePos, this.insertedCount);\n  }\n\n  /**\n    Removed symbols count\n    @readonly\n  */\n  get removedCount() {\n    // Math.max for opposite operation\n    return Math.max(this.oldSelection.end - this.startChangePos ||\n    // for Delete\n    this.oldValue.length - this.value.length, 0);\n  }\n\n  /**\n    Removed symbols\n    @readonly\n  */\n  get removed() {\n    return this.oldValue.substr(this.startChangePos, this.removedCount);\n  }\n\n  /**\n    Unchanged head symbols\n    @readonly\n  */\n  get head() {\n    return this.value.substring(0, this.startChangePos);\n  }\n\n  /**\n    Unchanged tail symbols\n    @readonly\n  */\n  get tail() {\n    return this.value.substring(this.startChangePos + this.insertedCount);\n  }\n\n  /**\n    Remove direction\n    @readonly\n  */\n  get removeDirection() {\n    if (!this.removedCount || this.insertedCount) return DIRECTION.NONE;\n\n    // align right if delete at right\n    return (this.oldSelection.end === this.cursorPos || this.oldSelection.start === this.cursorPos) &&\n    // if not range removed (event with backspace)\n    this.oldSelection.end === this.oldSelection.start ? DIRECTION.RIGHT : DIRECTION.LEFT;\n  }\n}\n\nexport { ActionDetails as default };\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,YAA1B;AACA,OAAO,qBAAP;AAEA;;AACA,MAAMC,aAAN,CAAoB;EAClB;;EAEA;;EAEA;;EAEA;EAEAC,WAAW,CAACC,KAAD,EAAQC,SAAR,EAAmBC,QAAnB,EAA6BC,YAA7B,EAA2C;IACpD,KAAKH,KAAL,GAAaA,KAAb;IACA,KAAKC,SAAL,GAAiBA,SAAjB;IACA,KAAKC,QAAL,GAAgBA,QAAhB;IACA,KAAKC,YAAL,GAAoBA,YAApB,CAJoD,CAMpD;;IACA,OAAO,KAAKH,KAAL,CAAWI,KAAX,CAAiB,CAAjB,EAAoB,KAAKC,cAAzB,MAA6C,KAAKH,QAAL,CAAcE,KAAd,CAAoB,CAApB,EAAuB,KAAKC,cAA5B,CAApD,EAAiG;MAC/F,EAAE,KAAKF,YAAL,CAAkBG,KAApB;IACD;EACF;EAED;AACF;AACA;AACA;;;EACoB,IAAdD,cAAc,GAAG;IACnB,OAAOE,IAAI,CAACC,GAAL,CAAS,KAAKP,SAAd,EAAyB,KAAKE,YAAL,CAAkBG,KAA3C,CAAP;EACD;EAED;AACF;AACA;AACA;;;EACmB,IAAbG,aAAa,GAAG;IAClB,OAAO,KAAKR,SAAL,GAAiB,KAAKI,cAA7B;EACD;EAED;AACF;AACA;AACA;;;EACc,IAARK,QAAQ,GAAG;IACb,OAAO,KAAKV,KAAL,CAAWW,MAAX,CAAkB,KAAKN,cAAvB,EAAuC,KAAKI,aAA5C,CAAP;EACD;EAED;AACF;AACA;AACA;;;EACkB,IAAZG,YAAY,GAAG;IACjB;IACA,OAAOL,IAAI,CAACM,GAAL,CAAS,KAAKV,YAAL,CAAkBW,GAAlB,GAAwB,KAAKT,cAA7B,IAChB;IACA,KAAKH,QAAL,CAAca,MAAd,GAAuB,KAAKf,KAAL,CAAWe,MAF3B,EAEmC,CAFnC,CAAP;EAGD;EAED;AACF;AACA;AACA;;;EACa,IAAPC,OAAO,GAAG;IACZ,OAAO,KAAKd,QAAL,CAAcS,MAAd,CAAqB,KAAKN,cAA1B,EAA0C,KAAKO,YAA/C,CAAP;EACD;EAED;AACF;AACA;AACA;;;EACU,IAAJK,IAAI,GAAG;IACT,OAAO,KAAKjB,KAAL,CAAWkB,SAAX,CAAqB,CAArB,EAAwB,KAAKb,cAA7B,CAAP;EACD;EAED;AACF;AACA;AACA;;;EACU,IAAJc,IAAI,GAAG;IACT,OAAO,KAAKnB,KAAL,CAAWkB,SAAX,CAAqB,KAAKb,cAAL,GAAsB,KAAKI,aAAhD,CAAP;EACD;EAED;AACF;AACA;AACA;;;EACqB,IAAfW,eAAe,GAAG;IACpB,IAAI,CAAC,KAAKR,YAAN,IAAsB,KAAKH,aAA/B,EAA8C,OAAOZ,SAAS,CAACwB,IAAjB,CAD1B,CAGpB;;IACA,OAAO,CAAC,KAAKlB,YAAL,CAAkBW,GAAlB,KAA0B,KAAKb,SAA/B,IAA4C,KAAKE,YAAL,CAAkBG,KAAlB,KAA4B,KAAKL,SAA9E,KACP;IACA,KAAKE,YAAL,CAAkBW,GAAlB,KAA0B,KAAKX,YAAL,CAAkBG,KAFrC,GAE6CT,SAAS,CAACyB,KAFvD,GAE+DzB,SAAS,CAAC0B,IAFhF;EAGD;;AA3FiB;;AA8FpB,SAASzB,aAAa,IAAI0B,OAA1B"},"metadata":{},"sourceType":"module"}