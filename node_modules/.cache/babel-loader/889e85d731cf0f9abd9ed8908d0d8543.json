{"ast":null,"code":"import { escapeRegExp, normalizePrepare, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport Masked from './base.js';\nimport IMask from '../core/holder.js';\nimport '../core/continuous-tail-details.js';\n/**\n  Number mask\n  @param {Object} opts\n  @param {string} opts.radix - Single char\n  @param {string} opts.thousandsSeparator - Single char\n  @param {Array<string>} opts.mapToRadix - Array of single chars\n  @param {number} opts.min\n  @param {number} opts.max\n  @param {number} opts.scale - Digits after point\n  @param {boolean} opts.signed - Allow negative\n  @param {boolean} opts.normalizeZeros - Flag to remove leading and trailing zeros in the end of editing\n  @param {boolean} opts.padFractionalZeros - Flag to pad trailing zeros after point in the end of editing\n*/\n\nclass MaskedNumber extends Masked {\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n  constructor(opts) {\n    super(Object.assign({}, MaskedNumber.DEFAULTS, opts));\n  }\n  /**\n    @override\n  */\n\n\n  _update(opts) {\n    super._update(opts);\n\n    this._updateRegExps();\n  }\n  /** */\n\n\n  _updateRegExps() {\n    let start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n    let mid = '\\\\d*';\n    let end = (this.scale ? \"(\".concat(escapeRegExp(this.radix), \"\\\\d{0,\").concat(this.scale, \"})?\") : '') + '$';\n    this._numberRegExp = new RegExp(start + mid + end);\n    this._mapToRadixRegExp = new RegExp(\"[\".concat(this.mapToRadix.map(escapeRegExp).join(''), \"]\"), 'g');\n    this._thousandsSeparatorRegExp = new RegExp(escapeRegExp(this.thousandsSeparator), 'g');\n  }\n  /** */\n\n\n  _removeThousandsSeparators(value) {\n    return value.replace(this._thousandsSeparatorRegExp, '');\n  }\n  /** */\n\n\n  _insertThousandsSeparators(value) {\n    // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n    const parts = value.split(this.radix);\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n    return parts.join(this.radix);\n  }\n  /**\n    @override\n  */\n\n\n  doPrepare(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    ch = this._removeThousandsSeparators(this.scale && this.mapToRadix.length && (\n    /*\n      radix should be mapped when\n      1) input is done from keyboard = flags.input && flags.raw\n      2) unmasked value is set = !flags.input && !flags.raw\n      and should not be mapped when\n      1) value is set = flags.input && !flags.raw\n      2) raw value is set = !flags.input && flags.raw\n    */\n    flags.input && flags.raw || !flags.input && !flags.raw) ? ch.replace(this._mapToRadixRegExp, this.radix) : ch);\n    const [prepCh, details] = normalizePrepare(super.doPrepare(ch, flags));\n    if (ch && !prepCh) details.skip = true;\n    return [prepCh, details];\n  }\n  /** */\n\n\n  _separatorsCount(to) {\n    let extendOnSeparators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    let count = 0;\n\n    for (let pos = 0; pos < to; ++pos) {\n      if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n        ++count;\n        if (extendOnSeparators) to += this.thousandsSeparator.length;\n      }\n    }\n\n    return count;\n  }\n  /** */\n\n\n  _separatorsCountFromSlice() {\n    let slice = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._value;\n    return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n  }\n  /**\n    @override\n  */\n\n\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let flags = arguments.length > 2 ? arguments[2] : undefined;\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    return this._removeThousandsSeparators(super.extractInput(fromPos, toPos, flags));\n  }\n  /**\n    @override\n  */\n\n\n  _appendCharRaw(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.thousandsSeparator) return super._appendCharRaw(ch, flags);\n    const prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n    const prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n\n    this._value = this._removeThousandsSeparators(this.value);\n\n    const appendDetails = super._appendCharRaw(ch, flags);\n\n    this._value = this._insertThousandsSeparators(this._value);\n    const beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n\n    appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n    appendDetails.skip = !appendDetails.rawInserted && ch === this.thousandsSeparator;\n    return appendDetails;\n  }\n  /** */\n\n\n  _findSeparatorAround(pos) {\n    if (this.thousandsSeparator) {\n      const searchFrom = pos - this.thousandsSeparator.length + 1;\n      const separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n      if (separatorPos <= pos) return separatorPos;\n    }\n\n    return -1;\n  }\n\n  _adjustRangeWithSeparators(from, to) {\n    const separatorAroundFromPos = this._findSeparatorAround(from);\n\n    if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n\n    const separatorAroundToPos = this._findSeparatorAround(to);\n\n    if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n    return [from, to];\n  }\n  /**\n    @override\n  */\n\n\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    const valueBeforePos = this.value.slice(0, fromPos);\n    const valueAfterPos = this.value.slice(toPos);\n\n    const prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n\n    this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n\n    return new ChangeDetails({\n      tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n    });\n  }\n  /**\n    @override\n  */\n\n\n  nearestInputPos(cursorPos, direction) {\n    if (!this.thousandsSeparator) return cursorPos;\n\n    switch (direction) {\n      case DIRECTION.NONE:\n      case DIRECTION.LEFT:\n      case DIRECTION.FORCE_LEFT:\n        {\n          const separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n\n          if (separatorAtLeftPos >= 0) {\n            const separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n\n            if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === DIRECTION.FORCE_LEFT) {\n              return separatorAtLeftPos;\n            }\n          }\n\n          break;\n        }\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.FORCE_RIGHT:\n        {\n          const separatorAtRightPos = this._findSeparatorAround(cursorPos);\n\n          if (separatorAtRightPos >= 0) {\n            return separatorAtRightPos + this.thousandsSeparator.length;\n          }\n        }\n    }\n\n    return cursorPos;\n  }\n  /**\n    @override\n  */\n\n\n  doValidate(flags) {\n    // validate as string\n    let valid = Boolean(this._removeThousandsSeparators(this.value).match(this._numberRegExp));\n\n    if (valid) {\n      // validate as number\n      const number = this.number;\n      valid = valid && !isNaN(number) && ( // check min bound for negative values\n      this.min == null || this.min >= 0 || this.min <= this.number) && ( // check max bound for positive values\n      this.max == null || this.max <= 0 || this.number <= this.max);\n    }\n\n    return valid && super.doValidate(flags);\n  }\n  /**\n    @override\n  */\n\n\n  doCommit() {\n    if (this.value) {\n      const number = this.number;\n      let validnum = number; // check bounds\n\n      if (this.min != null) validnum = Math.max(validnum, this.min);\n      if (this.max != null) validnum = Math.min(validnum, this.max);\n      if (validnum !== number) this.unmaskedValue = this.doFormat(validnum);\n      let formatted = this.value;\n      if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n      if (this.padFractionalZeros && this.scale > 0) formatted = this._padFractionalZeros(formatted);\n      this._value = formatted;\n    }\n\n    super.doCommit();\n  }\n  /** */\n\n\n  _normalizeZeros(value) {\n    const parts = this._removeThousandsSeparators(value).split(this.radix); // remove leading zeros\n\n\n    parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, (match, sign, zeros, num) => sign + num); // add leading zero\n\n    if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n\n    if (parts.length > 1) {\n      parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n\n      if (!parts[1].length) parts.length = 1; // remove fractional\n    }\n\n    return this._insertThousandsSeparators(parts.join(this.radix));\n  }\n  /** */\n\n\n  _padFractionalZeros(value) {\n    if (!value) return value;\n    const parts = value.split(this.radix);\n    if (parts.length < 2) parts.push('');\n    parts[1] = parts[1].padEnd(this.scale, '0');\n    return parts.join(this.radix);\n  }\n  /** */\n\n\n  doSkipInvalid(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let checkTail = arguments.length > 2 ? arguments[2] : undefined;\n    const dropFractional = this.scale === 0 && ch !== this.thousandsSeparator && (ch === this.radix || ch === MaskedNumber.UNMASKED_RADIX || this.mapToRadix.includes(ch));\n    return super.doSkipInvalid(ch, flags, checkTail) && !dropFractional;\n  }\n  /**\n    @override\n  */\n\n\n  get unmaskedValue() {\n    return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, MaskedNumber.UNMASKED_RADIX);\n  }\n\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n  /**\n    @override\n  */\n\n\n  get typedValue() {\n    return this.doParse(this.unmaskedValue);\n  }\n\n  set typedValue(n) {\n    this.rawInputValue = this.doFormat(n).replace(MaskedNumber.UNMASKED_RADIX, this.radix);\n  }\n  /** Parsed Number */\n\n\n  get number() {\n    return this.typedValue;\n  }\n\n  set number(number) {\n    this.typedValue = number;\n  }\n  /**\n    Is negative allowed\n    @readonly\n  */\n\n\n  get allowNegative() {\n    return this.signed || this.min != null && this.min < 0 || this.max != null && this.max < 0;\n  }\n  /**\n    @override\n  */\n\n\n  typedValueEquals(value) {\n    // handle  0 -> '' case (typed = 0 even if value = '')\n    // for details see https://github.com/uNmAnNeR/imaskjs/issues/134\n    return (super.typedValueEquals(value) || MaskedNumber.EMPTY_VALUES.includes(value) && MaskedNumber.EMPTY_VALUES.includes(this.typedValue)) && !(value === 0 && this.value === '');\n  }\n\n}\n\nMaskedNumber.UNMASKED_RADIX = '.';\nMaskedNumber.DEFAULTS = {\n  radix: ',',\n  thousandsSeparator: '',\n  mapToRadix: [MaskedNumber.UNMASKED_RADIX],\n  scale: 2,\n  signed: false,\n  normalizeZeros: true,\n  padFractionalZeros: false,\n  parse: Number,\n  format: n => n.toLocaleString('en-US', {\n    useGrouping: false,\n    maximumFractionDigits: 20\n  })\n};\nMaskedNumber.EMPTY_VALUES = [...Masked.EMPTY_VALUES, 0];\nIMask.MaskedNumber = MaskedNumber;\nexport { MaskedNumber as default };","map":{"version":3,"names":["escapeRegExp","normalizePrepare","DIRECTION","ChangeDetails","Masked","IMask","MaskedNumber","constructor","opts","Object","assign","DEFAULTS","_update","_updateRegExps","start","allowNegative","mid","end","scale","concat","radix","_numberRegExp","RegExp","_mapToRadixRegExp","mapToRadix","map","join","_thousandsSeparatorRegExp","thousandsSeparator","_removeThousandsSeparators","value","replace","_insertThousandsSeparators","parts","split","doPrepare","ch","flags","arguments","length","undefined","input","raw","prepCh","details","skip","_separatorsCount","to","extendOnSeparators","count","pos","_value","indexOf","_separatorsCountFromSlice","slice","extractInput","fromPos","toPos","_adjustRangeWithSeparators","_appendCharRaw","prevBeforeTailValue","tail","_beforeTailState","prevBeforeTailSeparatorsCount","appendDetails","beforeTailValue","beforeTailSeparatorsCount","tailShift","rawInserted","_findSeparatorAround","searchFrom","separatorPos","from","separatorAroundFromPos","separatorAroundToPos","remove","valueBeforePos","valueAfterPos","nearestInputPos","cursorPos","direction","NONE","LEFT","FORCE_LEFT","separatorAtLeftPos","separatorAtLeftEndPos","RIGHT","FORCE_RIGHT","separatorAtRightPos","doValidate","valid","Boolean","match","number","isNaN","min","max","doCommit","validnum","Math","unmaskedValue","doFormat","formatted","normalizeZeros","_normalizeZeros","padFractionalZeros","_padFractionalZeros","sign","zeros","num","test","push","padEnd","doSkipInvalid","checkTail","dropFractional","UNMASKED_RADIX","includes","typedValue","doParse","n","rawInputValue","signed","typedValueEquals","EMPTY_VALUES","parse","Number","format","toLocaleString","useGrouping","maximumFractionDigits","default"],"sources":["D:/React/PedidoOnline/node_modules/imask/esm/masked/number.js"],"sourcesContent":["import { escapeRegExp, normalizePrepare, DIRECTION } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport Masked from './base.js';\nimport IMask from '../core/holder.js';\nimport '../core/continuous-tail-details.js';\n\n/**\n  Number mask\n  @param {Object} opts\n  @param {string} opts.radix - Single char\n  @param {string} opts.thousandsSeparator - Single char\n  @param {Array<string>} opts.mapToRadix - Array of single chars\n  @param {number} opts.min\n  @param {number} opts.max\n  @param {number} opts.scale - Digits after point\n  @param {boolean} opts.signed - Allow negative\n  @param {boolean} opts.normalizeZeros - Flag to remove leading and trailing zeros in the end of editing\n  @param {boolean} opts.padFractionalZeros - Flag to pad trailing zeros after point in the end of editing\n*/\nclass MaskedNumber extends Masked {\n  /** Single char */\n\n  /** Single char */\n\n  /** Array of single chars */\n\n  /** */\n\n  /** */\n\n  /** Digits after point */\n\n  /** */\n\n  /** Flag to remove leading and trailing zeros in the end of editing */\n\n  /** Flag to pad trailing zeros after point in the end of editing */\n\n  constructor(opts) {\n    super(Object.assign({}, MaskedNumber.DEFAULTS, opts));\n  }\n\n  /**\n    @override\n  */\n  _update(opts) {\n    super._update(opts);\n    this._updateRegExps();\n  }\n\n  /** */\n  _updateRegExps() {\n    let start = '^' + (this.allowNegative ? '[+|\\\\-]?' : '');\n    let mid = '\\\\d*';\n    let end = (this.scale ? \"(\".concat(escapeRegExp(this.radix), \"\\\\d{0,\").concat(this.scale, \"})?\") : '') + '$';\n    this._numberRegExp = new RegExp(start + mid + end);\n    this._mapToRadixRegExp = new RegExp(\"[\".concat(this.mapToRadix.map(escapeRegExp).join(''), \"]\"), 'g');\n    this._thousandsSeparatorRegExp = new RegExp(escapeRegExp(this.thousandsSeparator), 'g');\n  }\n\n  /** */\n  _removeThousandsSeparators(value) {\n    return value.replace(this._thousandsSeparatorRegExp, '');\n  }\n\n  /** */\n  _insertThousandsSeparators(value) {\n    // https://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\n    const parts = value.split(this.radix);\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, this.thousandsSeparator);\n    return parts.join(this.radix);\n  }\n\n  /**\n    @override\n  */\n  doPrepare(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    ch = this._removeThousandsSeparators(this.scale && this.mapToRadix.length && (\n    /*\n      radix should be mapped when\n      1) input is done from keyboard = flags.input && flags.raw\n      2) unmasked value is set = !flags.input && !flags.raw\n      and should not be mapped when\n      1) value is set = flags.input && !flags.raw\n      2) raw value is set = !flags.input && flags.raw\n    */\n    flags.input && flags.raw || !flags.input && !flags.raw) ? ch.replace(this._mapToRadixRegExp, this.radix) : ch);\n    const [prepCh, details] = normalizePrepare(super.doPrepare(ch, flags));\n    if (ch && !prepCh) details.skip = true;\n    return [prepCh, details];\n  }\n\n  /** */\n  _separatorsCount(to) {\n    let extendOnSeparators = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    let count = 0;\n    for (let pos = 0; pos < to; ++pos) {\n      if (this._value.indexOf(this.thousandsSeparator, pos) === pos) {\n        ++count;\n        if (extendOnSeparators) to += this.thousandsSeparator.length;\n      }\n    }\n    return count;\n  }\n\n  /** */\n  _separatorsCountFromSlice() {\n    let slice = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._value;\n    return this._separatorsCount(this._removeThousandsSeparators(slice).length, true);\n  }\n\n  /**\n    @override\n  */\n  extractInput() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    let flags = arguments.length > 2 ? arguments[2] : undefined;\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    return this._removeThousandsSeparators(super.extractInput(fromPos, toPos, flags));\n  }\n\n  /**\n    @override\n  */\n  _appendCharRaw(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.thousandsSeparator) return super._appendCharRaw(ch, flags);\n    const prevBeforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n    const prevBeforeTailSeparatorsCount = this._separatorsCountFromSlice(prevBeforeTailValue);\n    this._value = this._removeThousandsSeparators(this.value);\n    const appendDetails = super._appendCharRaw(ch, flags);\n    this._value = this._insertThousandsSeparators(this._value);\n    const beforeTailValue = flags.tail && flags._beforeTailState ? flags._beforeTailState._value : this._value;\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(beforeTailValue);\n    appendDetails.tailShift += (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length;\n    appendDetails.skip = !appendDetails.rawInserted && ch === this.thousandsSeparator;\n    return appendDetails;\n  }\n\n  /** */\n  _findSeparatorAround(pos) {\n    if (this.thousandsSeparator) {\n      const searchFrom = pos - this.thousandsSeparator.length + 1;\n      const separatorPos = this.value.indexOf(this.thousandsSeparator, searchFrom);\n      if (separatorPos <= pos) return separatorPos;\n    }\n    return -1;\n  }\n  _adjustRangeWithSeparators(from, to) {\n    const separatorAroundFromPos = this._findSeparatorAround(from);\n    if (separatorAroundFromPos >= 0) from = separatorAroundFromPos;\n    const separatorAroundToPos = this._findSeparatorAround(to);\n    if (separatorAroundToPos >= 0) to = separatorAroundToPos + this.thousandsSeparator.length;\n    return [from, to];\n  }\n\n  /**\n    @override\n  */\n  remove() {\n    let fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    let toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n    [fromPos, toPos] = this._adjustRangeWithSeparators(fromPos, toPos);\n    const valueBeforePos = this.value.slice(0, fromPos);\n    const valueAfterPos = this.value.slice(toPos);\n    const prevBeforeTailSeparatorsCount = this._separatorsCount(valueBeforePos.length);\n    this._value = this._insertThousandsSeparators(this._removeThousandsSeparators(valueBeforePos + valueAfterPos));\n    const beforeTailSeparatorsCount = this._separatorsCountFromSlice(valueBeforePos);\n    return new ChangeDetails({\n      tailShift: (beforeTailSeparatorsCount - prevBeforeTailSeparatorsCount) * this.thousandsSeparator.length\n    });\n  }\n\n  /**\n    @override\n  */\n  nearestInputPos(cursorPos, direction) {\n    if (!this.thousandsSeparator) return cursorPos;\n    switch (direction) {\n      case DIRECTION.NONE:\n      case DIRECTION.LEFT:\n      case DIRECTION.FORCE_LEFT:\n        {\n          const separatorAtLeftPos = this._findSeparatorAround(cursorPos - 1);\n          if (separatorAtLeftPos >= 0) {\n            const separatorAtLeftEndPos = separatorAtLeftPos + this.thousandsSeparator.length;\n            if (cursorPos < separatorAtLeftEndPos || this.value.length <= separatorAtLeftEndPos || direction === DIRECTION.FORCE_LEFT) {\n              return separatorAtLeftPos;\n            }\n          }\n          break;\n        }\n      case DIRECTION.RIGHT:\n      case DIRECTION.FORCE_RIGHT:\n        {\n          const separatorAtRightPos = this._findSeparatorAround(cursorPos);\n          if (separatorAtRightPos >= 0) {\n            return separatorAtRightPos + this.thousandsSeparator.length;\n          }\n        }\n    }\n    return cursorPos;\n  }\n\n  /**\n    @override\n  */\n  doValidate(flags) {\n    // validate as string\n    let valid = Boolean(this._removeThousandsSeparators(this.value).match(this._numberRegExp));\n    if (valid) {\n      // validate as number\n      const number = this.number;\n      valid = valid && !isNaN(number) && (\n      // check min bound for negative values\n      this.min == null || this.min >= 0 || this.min <= this.number) && (\n      // check max bound for positive values\n      this.max == null || this.max <= 0 || this.number <= this.max);\n    }\n    return valid && super.doValidate(flags);\n  }\n\n  /**\n    @override\n  */\n  doCommit() {\n    if (this.value) {\n      const number = this.number;\n      let validnum = number;\n\n      // check bounds\n      if (this.min != null) validnum = Math.max(validnum, this.min);\n      if (this.max != null) validnum = Math.min(validnum, this.max);\n      if (validnum !== number) this.unmaskedValue = this.doFormat(validnum);\n      let formatted = this.value;\n      if (this.normalizeZeros) formatted = this._normalizeZeros(formatted);\n      if (this.padFractionalZeros && this.scale > 0) formatted = this._padFractionalZeros(formatted);\n      this._value = formatted;\n    }\n    super.doCommit();\n  }\n\n  /** */\n  _normalizeZeros(value) {\n    const parts = this._removeThousandsSeparators(value).split(this.radix);\n\n    // remove leading zeros\n    parts[0] = parts[0].replace(/^(\\D*)(0*)(\\d*)/, (match, sign, zeros, num) => sign + num);\n    // add leading zero\n    if (value.length && !/\\d$/.test(parts[0])) parts[0] = parts[0] + '0';\n    if (parts.length > 1) {\n      parts[1] = parts[1].replace(/0*$/, ''); // remove trailing zeros\n      if (!parts[1].length) parts.length = 1; // remove fractional\n    }\n\n    return this._insertThousandsSeparators(parts.join(this.radix));\n  }\n\n  /** */\n  _padFractionalZeros(value) {\n    if (!value) return value;\n    const parts = value.split(this.radix);\n    if (parts.length < 2) parts.push('');\n    parts[1] = parts[1].padEnd(this.scale, '0');\n    return parts.join(this.radix);\n  }\n\n  /** */\n  doSkipInvalid(ch) {\n    let flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let checkTail = arguments.length > 2 ? arguments[2] : undefined;\n    const dropFractional = this.scale === 0 && ch !== this.thousandsSeparator && (ch === this.radix || ch === MaskedNumber.UNMASKED_RADIX || this.mapToRadix.includes(ch));\n    return super.doSkipInvalid(ch, flags, checkTail) && !dropFractional;\n  }\n\n  /**\n    @override\n  */\n  get unmaskedValue() {\n    return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix, MaskedNumber.UNMASKED_RADIX);\n  }\n  set unmaskedValue(unmaskedValue) {\n    super.unmaskedValue = unmaskedValue;\n  }\n\n  /**\n    @override\n  */\n  get typedValue() {\n    return this.doParse(this.unmaskedValue);\n  }\n  set typedValue(n) {\n    this.rawInputValue = this.doFormat(n).replace(MaskedNumber.UNMASKED_RADIX, this.radix);\n  }\n\n  /** Parsed Number */\n  get number() {\n    return this.typedValue;\n  }\n  set number(number) {\n    this.typedValue = number;\n  }\n\n  /**\n    Is negative allowed\n    @readonly\n  */\n  get allowNegative() {\n    return this.signed || this.min != null && this.min < 0 || this.max != null && this.max < 0;\n  }\n\n  /**\n    @override\n  */\n  typedValueEquals(value) {\n    // handle  0 -> '' case (typed = 0 even if value = '')\n    // for details see https://github.com/uNmAnNeR/imaskjs/issues/134\n    return (super.typedValueEquals(value) || MaskedNumber.EMPTY_VALUES.includes(value) && MaskedNumber.EMPTY_VALUES.includes(this.typedValue)) && !(value === 0 && this.value === '');\n  }\n}\nMaskedNumber.UNMASKED_RADIX = '.';\nMaskedNumber.DEFAULTS = {\n  radix: ',',\n  thousandsSeparator: '',\n  mapToRadix: [MaskedNumber.UNMASKED_RADIX],\n  scale: 2,\n  signed: false,\n  normalizeZeros: true,\n  padFractionalZeros: false,\n  parse: Number,\n  format: n => n.toLocaleString('en-US', {\n    useGrouping: false,\n    maximumFractionDigits: 20\n  })\n};\nMaskedNumber.EMPTY_VALUES = [...Masked.EMPTY_VALUES, 0];\nIMask.MaskedNumber = MaskedNumber;\n\nexport { MaskedNumber as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}