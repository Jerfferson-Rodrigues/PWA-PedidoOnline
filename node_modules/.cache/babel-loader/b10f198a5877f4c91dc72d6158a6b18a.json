{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.expirationYear = void 0;\nvar DEFAULT_VALID_NUMBER_OF_YEARS_IN_THE_FUTURE = 19;\n\nfunction verification(isValid, isPotentiallyValid, isCurrentYear) {\n  return {\n    isValid: isValid,\n    isPotentiallyValid: isPotentiallyValid,\n    isCurrentYear: isCurrentYear || false\n  };\n}\n\nfunction expirationYear(value, maxElapsedYear) {\n  if (maxElapsedYear === void 0) {\n    maxElapsedYear = DEFAULT_VALID_NUMBER_OF_YEARS_IN_THE_FUTURE;\n  }\n\n  var isCurrentYear;\n\n  if (typeof value !== \"string\") {\n    return verification(false, false);\n  }\n\n  if (value.replace(/\\s/g, \"\") === \"\") {\n    return verification(false, true);\n  }\n\n  if (!/^\\d*$/.test(value)) {\n    return verification(false, false);\n  }\n\n  var len = value.length;\n\n  if (len < 2) {\n    return verification(false, true);\n  }\n\n  var currentYear = new Date().getFullYear();\n\n  if (len === 3) {\n    // 20x === 20x\n    var firstTwo = value.slice(0, 2);\n    var currentFirstTwo = String(currentYear).slice(0, 2);\n    return verification(false, firstTwo === currentFirstTwo);\n  }\n\n  if (len > 4) {\n    return verification(false, false);\n  }\n\n  var numericValue = parseInt(value, 10);\n  var twoDigitYear = Number(String(currentYear).substr(2, 2));\n  var valid = false;\n\n  if (len === 2) {\n    if (String(currentYear).substr(0, 2) === value) {\n      return verification(false, true);\n    }\n\n    isCurrentYear = twoDigitYear === numericValue;\n    valid = numericValue >= twoDigitYear && numericValue <= twoDigitYear + maxElapsedYear;\n  } else if (len === 4) {\n    isCurrentYear = currentYear === numericValue;\n    valid = numericValue >= currentYear && numericValue <= currentYear + maxElapsedYear;\n  }\n\n  return verification(valid, valid, isCurrentYear);\n}\n\nexports.expirationYear = expirationYear;","map":{"version":3,"names":["Object","defineProperty","exports","value","expirationYear","DEFAULT_VALID_NUMBER_OF_YEARS_IN_THE_FUTURE","verification","isValid","isPotentiallyValid","isCurrentYear","maxElapsedYear","replace","test","len","length","currentYear","Date","getFullYear","firstTwo","slice","currentFirstTwo","String","numericValue","parseInt","twoDigitYear","Number","substr","valid"],"sources":["D:/React/PedidoOnline/node_modules/card-validator/dist/expiration-year.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.expirationYear = void 0;\nvar DEFAULT_VALID_NUMBER_OF_YEARS_IN_THE_FUTURE = 19;\nfunction verification(isValid, isPotentiallyValid, isCurrentYear) {\n    return {\n        isValid: isValid,\n        isPotentiallyValid: isPotentiallyValid,\n        isCurrentYear: isCurrentYear || false,\n    };\n}\nfunction expirationYear(value, maxElapsedYear) {\n    if (maxElapsedYear === void 0) { maxElapsedYear = DEFAULT_VALID_NUMBER_OF_YEARS_IN_THE_FUTURE; }\n    var isCurrentYear;\n    if (typeof value !== \"string\") {\n        return verification(false, false);\n    }\n    if (value.replace(/\\s/g, \"\") === \"\") {\n        return verification(false, true);\n    }\n    if (!/^\\d*$/.test(value)) {\n        return verification(false, false);\n    }\n    var len = value.length;\n    if (len < 2) {\n        return verification(false, true);\n    }\n    var currentYear = new Date().getFullYear();\n    if (len === 3) {\n        // 20x === 20x\n        var firstTwo = value.slice(0, 2);\n        var currentFirstTwo = String(currentYear).slice(0, 2);\n        return verification(false, firstTwo === currentFirstTwo);\n    }\n    if (len > 4) {\n        return verification(false, false);\n    }\n    var numericValue = parseInt(value, 10);\n    var twoDigitYear = Number(String(currentYear).substr(2, 2));\n    var valid = false;\n    if (len === 2) {\n        if (String(currentYear).substr(0, 2) === value) {\n            return verification(false, true);\n        }\n        isCurrentYear = twoDigitYear === numericValue;\n        valid =\n            numericValue >= twoDigitYear &&\n                numericValue <= twoDigitYear + maxElapsedYear;\n    }\n    else if (len === 4) {\n        isCurrentYear = currentYear === numericValue;\n        valid =\n            numericValue >= currentYear &&\n                numericValue <= currentYear + maxElapsedYear;\n    }\n    return verification(valid, valid, isCurrentYear);\n}\nexports.expirationYear = expirationYear;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,cAAR,GAAyB,KAAK,CAA9B;AACA,IAAIC,2CAA2C,GAAG,EAAlD;;AACA,SAASC,YAAT,CAAsBC,OAAtB,EAA+BC,kBAA/B,EAAmDC,aAAnD,EAAkE;EAC9D,OAAO;IACHF,OAAO,EAAEA,OADN;IAEHC,kBAAkB,EAAEA,kBAFjB;IAGHC,aAAa,EAAEA,aAAa,IAAI;EAH7B,CAAP;AAKH;;AACD,SAASL,cAAT,CAAwBD,KAAxB,EAA+BO,cAA/B,EAA+C;EAC3C,IAAIA,cAAc,KAAK,KAAK,CAA5B,EAA+B;IAAEA,cAAc,GAAGL,2CAAjB;EAA+D;;EAChG,IAAII,aAAJ;;EACA,IAAI,OAAON,KAAP,KAAiB,QAArB,EAA+B;IAC3B,OAAOG,YAAY,CAAC,KAAD,EAAQ,KAAR,CAAnB;EACH;;EACD,IAAIH,KAAK,CAACQ,OAAN,CAAc,KAAd,EAAqB,EAArB,MAA6B,EAAjC,EAAqC;IACjC,OAAOL,YAAY,CAAC,KAAD,EAAQ,IAAR,CAAnB;EACH;;EACD,IAAI,CAAC,QAAQM,IAAR,CAAaT,KAAb,CAAL,EAA0B;IACtB,OAAOG,YAAY,CAAC,KAAD,EAAQ,KAAR,CAAnB;EACH;;EACD,IAAIO,GAAG,GAAGV,KAAK,CAACW,MAAhB;;EACA,IAAID,GAAG,GAAG,CAAV,EAAa;IACT,OAAOP,YAAY,CAAC,KAAD,EAAQ,IAAR,CAAnB;EACH;;EACD,IAAIS,WAAW,GAAG,IAAIC,IAAJ,GAAWC,WAAX,EAAlB;;EACA,IAAIJ,GAAG,KAAK,CAAZ,EAAe;IACX;IACA,IAAIK,QAAQ,GAAGf,KAAK,CAACgB,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAf;IACA,IAAIC,eAAe,GAAGC,MAAM,CAACN,WAAD,CAAN,CAAoBI,KAApB,CAA0B,CAA1B,EAA6B,CAA7B,CAAtB;IACA,OAAOb,YAAY,CAAC,KAAD,EAAQY,QAAQ,KAAKE,eAArB,CAAnB;EACH;;EACD,IAAIP,GAAG,GAAG,CAAV,EAAa;IACT,OAAOP,YAAY,CAAC,KAAD,EAAQ,KAAR,CAAnB;EACH;;EACD,IAAIgB,YAAY,GAAGC,QAAQ,CAACpB,KAAD,EAAQ,EAAR,CAA3B;EACA,IAAIqB,YAAY,GAAGC,MAAM,CAACJ,MAAM,CAACN,WAAD,CAAN,CAAoBW,MAApB,CAA2B,CAA3B,EAA8B,CAA9B,CAAD,CAAzB;EACA,IAAIC,KAAK,GAAG,KAAZ;;EACA,IAAId,GAAG,KAAK,CAAZ,EAAe;IACX,IAAIQ,MAAM,CAACN,WAAD,CAAN,CAAoBW,MAApB,CAA2B,CAA3B,EAA8B,CAA9B,MAAqCvB,KAAzC,EAAgD;MAC5C,OAAOG,YAAY,CAAC,KAAD,EAAQ,IAAR,CAAnB;IACH;;IACDG,aAAa,GAAGe,YAAY,KAAKF,YAAjC;IACAK,KAAK,GACDL,YAAY,IAAIE,YAAhB,IACIF,YAAY,IAAIE,YAAY,GAAGd,cAFvC;EAGH,CARD,MASK,IAAIG,GAAG,KAAK,CAAZ,EAAe;IAChBJ,aAAa,GAAGM,WAAW,KAAKO,YAAhC;IACAK,KAAK,GACDL,YAAY,IAAIP,WAAhB,IACIO,YAAY,IAAIP,WAAW,GAAGL,cAFtC;EAGH;;EACD,OAAOJ,YAAY,CAACqB,KAAD,EAAQA,KAAR,EAAelB,aAAf,CAAnB;AACH;;AACDP,OAAO,CAACE,cAAR,GAAyBA,cAAzB"},"metadata":{},"sourceType":"script"}