{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cardNumber = void 0;\n\nvar luhn10 = require(\"./luhn-10\");\n\nvar getCardTypes = require(\"credit-card-type\");\n\nfunction verification(card, isPotentiallyValid, isValid) {\n  return {\n    card: card,\n    isPotentiallyValid: isPotentiallyValid,\n    isValid: isValid\n  };\n}\n\nfunction cardNumber(value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var isPotentiallyValid, isValid, maxLength;\n\n  if (typeof value !== \"string\" && typeof value !== \"number\") {\n    return verification(null, false, false);\n  }\n\n  var testCardValue = String(value).replace(/-|\\s/g, \"\");\n\n  if (!/^\\d*$/.test(testCardValue)) {\n    return verification(null, false, false);\n  }\n\n  var potentialTypes = getCardTypes(testCardValue);\n\n  if (potentialTypes.length === 0) {\n    return verification(null, false, false);\n  } else if (potentialTypes.length !== 1) {\n    return verification(null, true, false);\n  }\n\n  var cardType = potentialTypes[0];\n\n  if (options.maxLength && testCardValue.length > options.maxLength) {\n    return verification(cardType, false, false);\n  }\n\n  if (cardType.type === getCardTypes.types.UNIONPAY && options.luhnValidateUnionPay !== true) {\n    isValid = true;\n  } else {\n    isValid = luhn10(testCardValue);\n  }\n\n  maxLength = Math.max.apply(null, cardType.lengths);\n\n  if (options.maxLength) {\n    maxLength = Math.min(options.maxLength, maxLength);\n  }\n\n  for (var i = 0; i < cardType.lengths.length; i++) {\n    if (cardType.lengths[i] === testCardValue.length) {\n      isPotentiallyValid = testCardValue.length < maxLength || isValid;\n      return verification(cardType, isPotentiallyValid, isValid);\n    }\n  }\n\n  return verification(cardType, testCardValue.length < maxLength, false);\n}\n\nexports.cardNumber = cardNumber;","map":{"version":3,"names":["Object","defineProperty","exports","value","cardNumber","luhn10","require","getCardTypes","verification","card","isPotentiallyValid","isValid","options","maxLength","testCardValue","String","replace","test","potentialTypes","length","cardType","type","types","UNIONPAY","luhnValidateUnionPay","Math","max","apply","lengths","min","i"],"sources":["D:/React/PedidoOnline/node_modules/card-validator/dist/card-number.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cardNumber = void 0;\nvar luhn10 = require(\"./luhn-10\");\nvar getCardTypes = require(\"credit-card-type\");\nfunction verification(card, isPotentiallyValid, isValid) {\n    return {\n        card: card,\n        isPotentiallyValid: isPotentiallyValid,\n        isValid: isValid,\n    };\n}\nfunction cardNumber(value, options) {\n    if (options === void 0) { options = {}; }\n    var isPotentiallyValid, isValid, maxLength;\n    if (typeof value !== \"string\" && typeof value !== \"number\") {\n        return verification(null, false, false);\n    }\n    var testCardValue = String(value).replace(/-|\\s/g, \"\");\n    if (!/^\\d*$/.test(testCardValue)) {\n        return verification(null, false, false);\n    }\n    var potentialTypes = getCardTypes(testCardValue);\n    if (potentialTypes.length === 0) {\n        return verification(null, false, false);\n    }\n    else if (potentialTypes.length !== 1) {\n        return verification(null, true, false);\n    }\n    var cardType = potentialTypes[0];\n    if (options.maxLength && testCardValue.length > options.maxLength) {\n        return verification(cardType, false, false);\n    }\n    if (cardType.type === getCardTypes.types.UNIONPAY &&\n        options.luhnValidateUnionPay !== true) {\n        isValid = true;\n    }\n    else {\n        isValid = luhn10(testCardValue);\n    }\n    maxLength = Math.max.apply(null, cardType.lengths);\n    if (options.maxLength) {\n        maxLength = Math.min(options.maxLength, maxLength);\n    }\n    for (var i = 0; i < cardType.lengths.length; i++) {\n        if (cardType.lengths[i] === testCardValue.length) {\n            isPotentiallyValid = testCardValue.length < maxLength || isValid;\n            return verification(cardType, isPotentiallyValid, isValid);\n        }\n    }\n    return verification(cardType, testCardValue.length < maxLength, false);\n}\nexports.cardNumber = cardNumber;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}